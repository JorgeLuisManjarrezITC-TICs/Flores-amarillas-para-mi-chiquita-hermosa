<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
    <title>Flores para mi ni√±a Hermosaüíõüåº</title>
      <style>
          body {
                margin: 0;
                      height: 100vh;
                            background: linear-gradient(to top, #fceabb, #f8b500);
                                  display: flex;
                                        flex-direction: column;
                                              justify-content: space-between;
                                                    align-items: center;
                                                          overflow: hidden;
                                                                font-family: "Comic Sans MS", cursive, sans-serif;
                                                                    }
                                                                        h1 {
                                                                              margin-top: 20px;
                                                                                    color: #fff;
                                                                                          text-shadow: 2px 2px 5px #000;
                                                                                                z-index: 2;
                                                                                                      position: absolute;
                                                                                                            top: 20px;
                                                                                                                }
                                                                                                                    #mensaje {
                                                                                                                          margin-bottom: 20px;
                                                                                                                                text-align: center;
                                                                                                                                      font-size: 1.5rem;
                                                                                                                                            color: #fff;
                                                                                                                                                  text-shadow: 2px 2px 5px #000;
                                                                                                                                                        position: absolute;
                                                                                                                                                              bottom: 20px;
                                                                                                                                                                    width: 80%;
                                                                                                                                                                          min-height: 4rem; /* espacio para que no brinque el texto */
                                                                                                                                                                                border-right: 3px solid white;
                                                                                                                                                                                      white-space: pre-wrap;
                                                                                                                                                                                            overflow: hidden;
                                                                                                                                                                                                }
                                                                                                                                                                                                    canvas {
                                                                                                                                                                                                          display: block;
                                                                                                                                                                                                                position: absolute;
                                                                                                                                                                                                                      top: 0;
                                                                                                                                                                                                                            left: 0;
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                  </style>
                                                                                                                                                                                                                                  </head>
                                                                                                                                                                                                                                  <body>
                                                                                                                                                                                                                                    <h1>Flores amarillas para ti üíõüåº</h1>
                                                                                                                                                                                                                                      <canvas id="flores"></canvas>
                                                                                                                                                                                                                                        <div id="mensaje"></div>

                                                                                                                                                                                                                                          <script>
                                                                                                                                                                                                                                              const canvas = document.getElementById("flores");
                                                                                                                                                                                                                                                  const ctx = canvas.getContext("2d");
                                                                                                                                                                                                                                                      canvas.width = window.innerWidth;
                                                                                                                                                                                                                                                          canvas.height = window.innerHeight;

                                                                                                                                                                                                                                                              window.addEventListener("resize", () => {
                                                                                                                                                                                                                                                                    canvas.width = window.innerWidth;
                                                                                                                                                                                                                                                                          canvas.height = window.innerHeight;
                                                                                                                                                                                                                                                                              });

                                                                                                                                                                                                                                                                                  class Flor {
                                                                                                                                                                                                                                                                                        constructor(x, y, size, petalos) {
                                                                                                                                                                                                                                                                                                this.x = x;
                                                                                                                                                                                                                                                                                                        this.y = y;
                                                                                                                                                                                                                                                                                                                this.size = size;
                                                                                                                                                                                                                                                                                                                        this.petalos = petalos;
                                                                                                                                                                                                                                                                                                                                this.speed = 1 + Math.random() * 2;
                                                                                                                                                                                                                                                                                                                                        this.angle = Math.random() * Math.PI * 2;
                                                                                                                                                                                                                                                                                                                                              }

                                                                                                                                                                                                                                                                                                                                                    draw() {
                                                                                                                                                                                                                                                                                                                                                            ctx.save();
                                                                                                                                                                                                                                                                                                                                                                    ctx.translate(this.x, this.y);
                                                                                                                                                                                                                                                                                                                                                                            ctx.rotate(this.angle);

                                                                                                                                                                                                                                                                                                                                                                                    // p√©talos
                                                                                                                                                                                                                                                                                                                                                                                            ctx.fillStyle = "yellow";
                                                                                                                                                                                                                                                                                                                                                                                                    ctx.strokeStyle = "orange";
                                                                                                                                                                                                                                                                                                                                                                                                            ctx.lineWidth = 2;
                                                                                                                                                                                                                                                                                                                                                                                                                    for (let i = 0; i < this.petalos; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                              let angle = (i * 2 * Math.PI) / this.petalos;
                                                                                                                                                                                                                                                                                                                                                                                                                                        let petalX = Math.cos(angle) * this.size;
                                                                                                                                                                                                                                                                                                                                                                                                                                                  let petalY = Math.sin(angle) * this.size;
                                                                                                                                                                                                                                                                                                                                                                                                                                                            ctx.beginPath();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ctx.arc(petalX, petalY, this.size / 2, 0, 2 * Math.PI);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ctx.fill();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ctx.stroke();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          // centro
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ctx.beginPath();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ctx.fillStyle = "brown";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ctx.arc(0, 0, this.size / 2.5, 0, 2 * Math.PI);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ctx.fill();

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ctx.restore();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              update() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.y += this.speed;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              this.x += Math.sin(this.angle) * 0.5; 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      this.angle += 0.01; 

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (this.y > canvas.height + 50) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        this.y = -50;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  this.x = Math.random() * canvas.width;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  this.draw();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const flores = [];
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    for (let i = 0; i < 30; i++) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          let size = 20 + Math.random() * 20;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                let x = Math.random() * canvas.width;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      let y = Math.random() * canvas.height;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            let petalos = 5 + Math.floor(Math.random() * 3);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  flores.push(new Flor(x, y, size, petalos));
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          function animar() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ctx.clearRect(0, 0, canvas.width, canvas.height);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      flores.forEach(flor => flor.update());
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            requestAnimationFrame(animar);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    animar();

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        // ---- Efecto de escritura en el mensaje ----
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            const texto = "Aunque no sean reales por hoy te regalo estas flores amarillas que te hice,\nTe amo preciosa ‚ù§Ô∏è";
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                const mensajeDiv = document.getElementById("mensaje");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    let i = 0;

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        function escribir() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              if (i < texto.length) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      mensajeDiv.textContent += texto.charAt(i);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              i++;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      setTimeout(escribir, 70); // velocidad de escritura
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            } else {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    mensajeDiv.style.borderRight = "none"; // quitar el cursor al final
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              }

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  escribir();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </script>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </body>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    